(this.webpackJsonpcrudcategory=this.webpackJsonpcrudcategory||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/viewcart.62e24f63.png"},105:function(e,t,a){e.exports=a.p+"static/media/logomygadget.3b1e3c9a.png"},110:function(e,t,a){e.exports=a(237)},115:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),o=a.n(c),l=(a(115),a(14)),s=a(30),i=a(7),u=a(97),m=a(24),p=a(98),d=a(99),E=a(70),h=a(108),g=a(34),v=a(3),b={products:[],paginate:[],order:[],message:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS_FULFILLED":return Object(v.a)({},e,{products:t.payload.data.result,paginate:t.payload.data.paginate,message:t.payload.data.status});case"GET_PRODuCTS":return Object(v.a)({},e,{message:t.payload.data.status});case"GET_PRODUCT_PENDING":case"GET_PRODUCT_REJECTED":return Object(v.a)({},e);case"GET_ORDER_FULFILLED":return Object(v.a)({},e,{order:t.payload.data.result});case"GET_ORDER_PENDING":case"GET_ORDER_REJECTED":return Object(v.a)({},e);case"DETAILS_PRODUCT_FULFILLED":return Object(v.a)({},e,{products:t.payload.data.result});case"DETAILS_PRODUCT_PENDING":case"DETAILS_PRODUCT_REJECTED":return Object(v.a)({},e);case"PAGINATE_PRODUCT_FULFILLED":return Object(v.a)({},e,{products:t.payload.data.result});case"DELETE_PRODUCT_FULFILLED":var a=e.products.filter((function(e){return e.id!==t.payload.data.result}));return Object(v.a)({},e,{products:a});case"DELETE_PRODUCT_PENDING":case"DELETE_PRODUCT_REJECTED":return Object(v.a)({},e);case"POST_PRODUCT_FULFILLED":var n=[].concat(Object(g.a)(e.products),[t.payload.data.result]);return Object(v.a)({},e,{products:n});case"POST_PRODUCT_PENDING":case"POST_PRODUCT_REJECTED":case"UPDATE_PRODUCT_PENDING":case"UPDATE_PRODUCT_REJECTED":return Object(v.a)({},e);case"UPDATE_PRODUCT_FULFILLED":console.log(t.payload);var r=e.products.map((function(e){return e.id===t.payload.data.result.id?t.payload.data.result:e}));return Object(v.a)({},e,{products:r});case"GET_PAGINATE_FULFILLED":return Object(v.a)({},e,{products:t.payload.data.paginate});default:return e}},y={carts:[],chart:[],total:0},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CART_FULFILLED":return Object(v.a)({},e,{chart:t.payload.data});case"POST_ORDER_FULFILLED":case"POST_ORDER_PENDING":case"POST_ORDER_REJECTED":return Object(v.a)({},e);case"ADD_CART_DATA":var a=e.carts.map((function(e){return e.id===t.payload.id?(e.quantity+=1,t.payload):e})),n=e.carts.find((function(e){return e.id===t.payload.id}));if(n)return Object(v.a)({},e,{carts:a,total:e.total+t.payload.price});var r=e.total+t.payload.price;return t.payload.quantity=1,Object(v.a)({},e,{carts:[].concat(Object(g.a)(e.carts),[t.payload]),total:r});case"DELETE_CART_DATA":var c=e.carts.filter((function(e){return e.id!==t.payload})),o=e.carts.find((function(e){return e.id===t.payload}));if(o)return Object(v.a)({},e,{carts:c,total:e.total-o.price*o.quantity});case"ADD_QTY":var l=e.carts.map((function(e){return e.id===t.payload&&(e.quantity+=1),e})),s=e.carts.find((function(e){return e.id===t.payload}));if(s)return Object(v.a)({},e,{carts:l,total:e.total+s.price});case"REDUCE_QTY":var i=e.carts.map((function(e){return e.id===t.payload&&(e.quantity=e.quantity-1),e})),u=e.carts.find((function(e){return e.id===t.payload}));return u.quantity<=0?(u.quantity=1,Object(v.a)({},e)):Object(v.a)({},e,{carts:i,total:e.total-u.price});default:return e}},C={isAuthenticated:!1,user:[],persistLogin:{},menu:[]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_FULFILLED":return Object(v.a)({},e,{user:t.payload.data.result});case"GET_USER_PENDING":case"GET_USER_REJECTED":return Object(v.a)({},e);case"POST_USER_FULFILLED":var a=[].concat(Object(g.a)(e.user),[t.payload.data.result]);return Object(v.a)({},e,{user:a});case"POST_USER_PENDING":case"POST_USER_REJECTED":case"UPDATE_USER_PENDING":case"UPDATE_USER_REJECTED":return Object(v.a)({},e);case"UPDATE_USER_FULFILLED":console.log(t.payload);var n=e.user.map((function(e){return e.id===t.payload.data.result.id?t.payload.data.result:e}));return Object(v.a)({},e,{user:n});case"DELETE_USER_FULFILLED":var r=e.user.filter((function(e){return e.id!==t.payload.data.result}));return Object(v.a)({},e,{user:r});case"DELETE_USER_PENDING":case"DELETE_USER_REJECTED":case"UPDATE_MENU_PENDING":case"UPDATE_MENU_REJECTED":return Object(v.a)({},e);case"UPDATE_MENU_FULFILLED":console.log(t.payload);var c=e.menu.map((function(e){return e.id===t.payload.data.result.id?t.payload.data.result:e}));return Object(v.a)({},e,{menu:c});case"GET_MENU_FULFILLED":return Object(v.a)({},e,{menu:t.payload.data.result});case"GET_MENU_PENDING":case"GET_MENU_REJECTED":return Object(v.a)({},e);default:return e}},_={order:[],chart:[]},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ORDER_FULFILLED":return Object(v.a)({},e,{order:t.payload.data.result});case"GET_ORDER_PENDING":case"GET_ORDER_REJECTED":return Object(v.a)({},e);case"GET_CHART_FULFILLED":return Object(v.a)({},e,{chart:t.payload.data.result});case"GET_CHART_PENDING":case"GET_CHART_REJECTED":return Object(v.a)({},e);default:return e}},N={isAuthenticated:!1,persistLogin:{}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER_PENDING":case"LOGIN_USER_REJECTED":return Object(v.a)({},e,{isAuthenticated:!1,persistLogin:{}});case"LOGIN_USER_FULFILLED":return Object(v.a)({},e,{isAuthenticated:!0,persistLogin:t.payload.data});case"LOGOUT_USER":return Object(v.a)({},e,{isAuthenticated:!1,persistLogin:{}});default:return e}},w=Object(m.c)({products:f,user:D,carts:O,order:S,authpersist:j}),T=Object(p.createLogger)({}),k={key:"authpersist",storage:h.a,whitelist:["authpersist"]},L=Object(E.a)(k,w),P=Object(m.e)(L,Object(m.d)(Object(m.a)(T,d.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),U=Object(E.b)(P),R=a(9),x=a(10),A=a(13),G=a(11),I=a(12),F=a(8),H=a.n(F),z=a(16),M=a(244),B=a(245),J=a(15),q=a.n(J),V=(a(39),function(e){return{type:"ADD_CART_DATA",payload:e}}),Q=function(e){return{type:"POST_ORDER",payload:q()({method:"POST",url:"http://54.242.170.33/order",data:e})}},W=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(A.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).selectProduct=function(e){e.quantity=1,a.props.dispatch(V(e))},a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.props.product;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-4 mt-2"},r.a.createElement(M.a,{style:{width:"18rem"},className:"mt-1"},r.a.createElement(M.a.Img,{variant:"top",src:t.image}),r.a.createElement(M.a.Body,null,r.a.createElement(M.a.Header,null,t.name,r.a.createElement(M.a.Text,null,r.a.createElement("p",{className:"badge badge-light"}," Price Rp. ",t.price)," || ",r.a.createElement("p",{className:"badge badge-light"}," Stock ",t.stock))),r.a.createElement("hr",null),r.a.createElement(B.a,{className:"cart mt-2",style:{marginLeft:"90px"},variant:"outline-primary",onClick:function(){return e.selectProduct(t)}},r.a.createElement("i",{className:"fas fa-cart-plus",style:{width:"40px"}}))))))}}]),t}(n.Component),Y=Object(s.e)(Object(i.b)()(W)),X=function(e,t){return{type:"GET_PRODUCTS",payload:q()({method:"GET",url:"http://54.242.170.33/product",headers:{authorization:e,user_id:t}})}},$=function(e,t,a){return{type:"DETAILS_PRODUCT",payload:q()({method:"GET",url:"http://54.242.170.33"+"/product?category=".concat(e,"&name=").concat(t,"&pages=").concat(a)})}},K=function(e){return{type:"PAGINATE_PRODUCT",payload:q()({method:"GET",url:"http://54.242.170.33"+"/product?pages=".concat(e)})}},Z=function(e){return{type:"POST_PRODUCT",payload:q()({method:"POST",url:"http://54.242.170.33/product",data:e})}},ee=function(e,t){return{type:"UPDATE_PRODUCT",payload:q()({method:"PATCH",url:"http://54.242.170.33"+"/product/".concat(e),data:t})}},te=a(239),ae=a(103),ne=a(102),re=a.n(ne),ce=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).actSelectProduct=function(e){a.setState({selectProduct:e})},a.state={show:!1},a.onShow=function(e){a.setState({show:!0})},a.onHandleClose=function(){a.setState({show:!1})},a.addQuantity=function(e){a.props.dispatch(function(e){return{type:"ADD_QTY",payload:e}}(e))},a.reduceQuantity=function(e){a.props.dispatch(function(e){return{type:"REDUCE_QTY",payload:e}}(e))},a.onDeleteCart=function(e){a.props.dispatch({type:"DELETE_CART_DATA",payload:e})},a.paginateProducts=function(e){a.setState({page:e.target.id}),a.props.dispatch($(a.state.category,a.state.product,e.target.id))},a.onSubmit=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=[],a.props.carts.map((function(e){n.push({id_product:e.id,quantity:e.quantity})})),r={id_user:a.props.authpersist.persistLogin.name,total:a.props.total,product:n},e.next=6,a.props.dispatch(Q(r));case 6:alert("success");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={products:[],carts:[],selectProduct:null,category:"",product:"",page:""},a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"getProducts",value:function(){var e=this.props.authpersist.persistLogin.id,t=this.props.authpersist.persistLogin.token;this.props.dispatch(X(t,e))}},{key:"componentDidMount",value:function(){var e=Object(z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProducts();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.products,n=t.carts,c=t.total,o=a.map((function(t,a){return r.a.createElement(Y,{product:t,key:a,selectProductItem:e.actSelectProduct})}));return this.props.carts<1?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"row"},o)),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"cardCart"},r.a.createElement("p",null,"."),r.a.createElement("img",{style:{width:330,height:400,borderRadius:50,marginLeft:-40},src:re.a}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"row"},o)),r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"cardCart"},r.a.createElement("p",null,"."),n.map((function(t){return r.a.createElement(te.a,{style:{marginBottom:"10px",border:"1px solid rgba(0,0,0,.1)",paddingTop:"20px",marginLeft:"0px",marginRight:"0px",paddingBottom:"10px"}},r.a.createElement(ae.a,{xs:6,md:4,border:"info"},r.a.createElement("img",{src:t.image,alt:"",width:80,height:80})),r.a.createElement(ae.a,{xs:6,md:6},r.a.createElement("p",null,t.name),r.a.createElement(te.a,{style:{marginTop:"10px"}},r.a.createElement(ae.a,{sm:2},r.a.createElement(B.a,{size:"sm",variant:"outline-info",onClick:function(){return e.reduceQuantity(t.id)}},"-")),r.a.createElement(ae.a,{sm:2},t.quantity),r.a.createElement(ae.a,{sm:2},r.a.createElement(B.a,{size:"sm",variant:"outline-info",onClick:function(){return e.addQuantity(t.id)}},"+")))),r.a.createElement(te.a,{xs:6,md:2},r.a.createElement(ae.a,null,r.a.createElement("p",null," Rp. ",t.price)),r.a.createElement(ae.a,null,r.a.createElement(B.a,{className:"btnCart",size:"sm",onClick:function(){return e.onDeleteCart(t.id)},variant:"danger"},"Remove"))))})),r.a.createElement(te.a,{style:{fontWeight:"bold"}},r.a.createElement(ae.a,{sm:6,style:{fontSize:"25px"}},"Total:"," "),r.a.createElement(ae.a,{sm:6,style:{fontSize:"25px"}},"Rp. ",c)),r.a.createElement(te.a,{className:"justify-content-center",style:{marginBottom:"10px"}},r.a.createElement(ae.a,{sm:12},r.a.createElement(B.a,{variant:"primary",onClick:this.onSubmit,style:{marginLeft:"100px"}},"ORDER")," "))))))}}]),t}(n.Component),oe=Object(i.b)((function(e){return{user:e.user,products:e.products.products,carts:e.carts.carts,total:e.carts.total,deleteCart:e.carts.deleteCart,pagination:e.products.paginate,authpersist:e.authpersist,message:e.products.message}}))(ce),le=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).onCategory=function(e){a.setState({category:e.target.value}),a.props.history.push("?category=".concat(e.target.value,"&name=").concat(a.state.product,"&pages").concat(a.state.page)),a.props.dispatch($(e.target.value,a.state.product,a.state.page))},a.onProduct=function(e){a.setState({product:e.target.value}),a.props.history.push("?category=".concat(a.state.category,"&name=").concat(e.target.value,"&pages").concat(a.state.page)),a.props.dispatch($(a.state.category,e.target.value,a.state.page))},a.state={category:"",product:"",page:""},a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){return 1===this.props.authpersist.persistLogin.access_menu?r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("div",{className:"container"},r.a.createElement(l.b,{className:"navbar-brand bg-white"},"My^gadget"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(l.b,{className:"nav-link",to:"/"},r.a.createElement("span",{className:"fa fa-fw fa-home"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/product"},r.a.createElement("i",{class:"fa fa-fw fa-cogs"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/history"},r.a.createElement("i",{className:"fas fa-history"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/charts"},r.a.createElement("i",{class:"fas fa-chart-line"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/user"},r.a.createElement("i",{className:"fas fa-user-cog"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"#",onClick:this.props.onClick},r.a.createElement("i",{className:"fas fa-sign-out-alt"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("select",{onChange:this.onCategory,as:"select",className:"custom-select badge badge-light"},r.a.createElement("option",{value:""},"Filter..."),r.a.createElement("option",{value:"smartphone"},"Smartphone "),r.a.createElement("option",{value:"pc"},"PC "),r.a.createElement("option",{value:"camera"},"Camera "))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("form",{onSubmit:this.onProduct},r.a.createElement("input",{class:"form-control mr-sm-2",type:"search",name:"search",onChange:this.onProduct,placeholder:"Search"}))))))):r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("div",{className:"container"},r.a.createElement(l.b,{className:"navbar-brand bg-white"},"My^gadget"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(l.b,{className:"nav-link",to:"/"},r.a.createElement("span",{className:"fa fa-fw fa-home"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/product"},r.a.createElement("i",{class:"fa fa-fw fa-cogs"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/history"},r.a.createElement("i",{className:"fas fa-history"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"/charts"},r.a.createElement("i",{class:"fas fa-chart-line"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"#",onClick:this.props.onClick},r.a.createElement("i",{className:"fas fa-sign-out-alt"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("select",{onChange:this.onCategory,as:"select",className:"custom-select badge badge-light"},r.a.createElement("option",{value:""},"Filter..."),r.a.createElement("option",{value:"smartphone"},"Smartphone "),r.a.createElement("option",{value:"pc"},"PC "),r.a.createElement("option",{value:"camera"},"Camera "))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("form",{onSubmit:this.onProduct},r.a.createElement("input",{class:"form-control mr-sm-2",type:"search",name:"search",onChange:this.onProduct,placeholder:"Search"})))))))}}]),t}(n.Component),se=Object(s.e)(Object(i.b)((function(e){return{authpersist:e.authpersist}}))(le)),ie=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).paginateProducts=function(e){a.props.history.push("?category=".concat(a.state.category,"&name=").concat(a.state.product,"&pages").concat(e.target.id)),a.setState({page:e.target.id}),a.props.dispatch($(a.state.category,a.state.product,e.target.id))},a.state={category:"",product:"",page:""},a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this,t=this.props.pagination;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link",href:"#"},"Previous")),t.map((function(t){return r.a.createElement("li",{class:"page-item",key:t},r.a.createElement("a",{className:"page-link",onClick:e.paginateProducts,id:t},t))})),r.a.createElement("li",{class:"page-item"},r.a.createElement("a",{class:"page-link"},"Next"))))))}}]),t}(n.Component),ue=Object(s.e)(Object(i.b)((function(e){return{pagination:e.products.paginate}}))(ie)),me=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).state={products:[],carts:[],selectProduct:null,category:"",product:"",page:""},a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=this.props.authpersist.persistLogin.access_menu;e||!1!==this.props.authpersist.isAuthenticated||this.props.history.push("/login"),t>2&&this.props.history.push("/cashier")}},{key:"onLogout",value:function(){this.props.dispatch({type:"LOGOUT_USER"}),this.props.history.push("/login")}},{key:"render",value:function(){return 404===this.props.message?r.a.createElement("div",{class:"alert alert-danger",role:"alert"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h4",{class:"alert-heading"},"Token error!"),r.a.createElement("p",null,"Aww, you token is expired, you can login to fix it."),r.a.createElement("p",{class:"btn btn-primary"},r.a.createElement(l.b,{className:"nav-link",to:"/login"},r.a.createElement("strong",null,"Go to login page"))))):r.a.createElement("div",{className:!0},r.a.createElement(se,{onClick:this.onLogout.bind(this),product:this.state.product,page:this.state.page}),r.a.createElement(oe,null),r.a.createElement(ue,{category:this.state.category,product:this.state.product,page:this.state.page}))}}]),t}(n.Component),pe=Object(i.b)((function(e){return console.log("homedddstate",e.products.message),{authpersist:e.authpersist,token:e.authpersist.persistLogin.token,message:e.products.message}}))(me),de=a(240),Ee=a(241),he=function(){return{type:"GET_ORDER",payload:q()({method:"GET",url:"http://54.242.170.33/order/"})}},ge=function(e){var t=e.order;return r.a.createElement(n.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,t.id_order),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.id_user),r.a.createElement("td",null,t.price),r.a.createElement("td",null,t.quantity),r.a.createElement("td",null,t.total),r.a.createElement("td",null,t.created_at)))},ve=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(A.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).getOrder=function(){a.props.dispatch(he())},a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.getOrder()}},{key:"onLogout",value:function(){localStorage.removeItem("user-id"),localStorage.removeItem("token"),localStorage.removeItem("isAuth"),localStorage.removeItem("otoritas_id"),this.props.history.push("/login")}},{key:"render",value:function(){var e=this;console.log("render product");var t=this.props.order.order.map((function(t,a){return r.a.createElement(ge,{order:t,key:a,onSelectItemProductEdit:e.onSelectItemProductEdit,onSelectProductDelete:e.onSelectProductDelete})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{onClick:this.onLogout.bind(this)}),r.a.createElement(de.a,{style:{marginTop:"20px"}},r.a.createElement(te.a,{style:{marginBottom:"20px"}}),r.a.createElement(Ee.a,{hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"ID"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"User"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Quantity"),r.a.createElement("th",{scope:"col"},"Total"),r.a.createElement("th",{scope:"col"},"Updated"))),r.a.createElement("tbody",null,t))))}}]),t}(n.Component),be=Object(i.b)((function(e){return{order:e.order}}))(ve),fe=function(e){var t=e.product,a=e.onSelectItemProductEdit,c=e.onSelectProductDelete;return r.a.createElement(n.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{src:t.image,className:"imageCart",alt:"..."})),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.category_name),r.a.createElement("td",null,t.price),r.a.createElement("td",null,t.stock),r.a.createElement("td",null,r.a.createElement(B.a,{variant:"warning",size:"sm",onClick:function(e){e.preventDefault(),a(t)}},"Edit")," - ",r.a.createElement(B.a,{variant:"danger",size:"sm",onClick:function(e){e.preventDefault(),c(t)}},"Delete"))))},ye=a(19),Oe=a(242),Ce=a(243),De=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(A.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",description:"",image:"",category_id:"",price:"",stock:""},a.onChangeValue=function(e){a.setState(Object(ye.a)({},e.target.name,e.target.value))},a.onChangeImage=function(e){a.setState({image:e.target.files[0]})},a.onSubmit=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("name",a.state.name),n.append("description",a.state.description),n.append("image",a.state.image),n.append("category_id",a.state.category_id),n.append("price",a.state.price),n.append("stock",a.state.stock),e.next=10,a.props.dispatch(Z(n));case 10:return alert("success added"),a.props.onHide(),e.next=14,a.props.history.push("/product");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.onHide;return r.a.createElement(Oe.a,{show:t,onHide:a},r.a.createElement(Oe.a.Header,{closeButton:!0,onClick:a},r.a.createElement(Oe.a.Title,null,"Add Product")),r.a.createElement(Oe.a.Body,null,r.a.createElement(Ce.a,{onSubmit:this.onSubmit},r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Name"),r.a.createElement(Ce.a.Control,{type:"text",placeholder:"Enter name",name:"name",onChange:this.onChangeValue})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Description"),r.a.createElement(Ce.a.Control,{type:"text",placeholder:"Enter name",name:"description",onChange:this.onChangeValue})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Image"),r.a.createElement(Ce.a.Control,{type:"file",placeholder:"Enter name",onChange:this.onChangeImage})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Category"),r.a.createElement(Ce.a.Control,{type:"text",placeholder:"Enter category",name:"category_id",onChange:this.onChangeValue})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Price"),r.a.createElement(Ce.a.Control,{type:"text",placeholder:"Enter name",name:"price",onChange:this.onChangeValue})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Stock"),r.a.createElement(Ce.a.Control,{type:"text",placeholder:"Enter name",name:"stock",onChange:this.onChangeValue})),r.a.createElement(Oe.a.Footer,null,r.a.createElement(B.a,{variant:"secondary",size:"sm",onClick:a},"Close"),r.a.createElement(B.a,{variant:"primary",size:"sm",type:"submit"},"Save")))))}}]),t}(n.Component),_e=Object(s.e)(Object(i.b)()(De)),Se=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(A.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",description:"",image:"",category_id:"",price:"",stock:""},a.onSetValue=function(e){a.setState({name:e.name,description:e.description,category_id:e.category_id,price:e.price,stock:e.stock})},a.onChangeImage=function(e){a.setState({image:e.target.files[0]})},a.onChange=function(e){a.setState(Object(ye.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.props.product.id,(r=new FormData).append("name",a.state.name),r.append("description",a.state.description),r.append("image",a.state.image),r.append("category_id",a.state.category_id),r.append("price",a.state.price),r.append("stock",a.state.stock),""!==a.state.image){e.next=18;break}return r.delete("image"),e.next=13,a.props.dispatch(ee(n,r));case 13:return alert("success update"),e.next=16,a.props.onHide();case 16:e.next=23;break;case 18:return e.next=20,a.props.dispatch(ee(n,r));case 20:return alert("fail update"),e.next=23,a.props.onHide();case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.product;this.onSetValue(t)}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.onHide;return r.a.createElement(Oe.a,{show:t,onHide:a,variant:"lg"},r.a.createElement(Oe.a.Header,null,r.a.createElement("p",null,"Edit Book")),r.a.createElement(Oe.a.Body,null,r.a.createElement(Ce.a,{onSubmit:this.onSubmit},r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Name"),r.a.createElement(Ce.a.Control,{type:"text",name:"name",onChange:this.onChange,value:this.state.name})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Description"),r.a.createElement(Ce.a.Control,{type:"text",name:"description",onChange:this.onChange,value:this.state.description})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Image"),r.a.createElement(Ce.a.Control,{type:"file",name:"image",onChange:this.onChangeImage})),r.a.createElement(Ce.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(Ce.a.Label,null,"Category"),r.a.createElement(Ce.a.Control,{as:"select",name:"category_id",onChange:this.onChange},r.a.createElement("option",{value:1},"Smartphone"),r.a.createElement("option",{value:2},"Pc"),r.a.createElement("option",{value:3},"Smartwatch"),r.a.createElement("option",{value:4},"Camera"))),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Price"),r.a.createElement(Ce.a.Control,{type:"text",name:"price",onChange:this.onChange,value:this.state.price})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Stock"),r.a.createElement(Ce.a.Control,{type:"text",name:"stock",onChange:this.onChange,value:this.state.stock})),r.a.createElement(Oe.a.Footer,null,r.a.createElement(B.a,{variant:"secondary",size:"sm",onClick:a},"Close"),r.a.createElement(B.a,{variant:"primary",size:"sm",type:"submit"},"Save")))))}}]),t}(n.Component),Ne=Object(i.b)()(Se),je=Object(i.b)()((function(e){var t=e.product,a=e.show,n=e.onHide,c=e.dispatch,o=function(){var e=Object(z.a)(H.a.mark((function e(a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,c((r=t.id,{type:"DELETE_PRODUCT",payload:q()({method:"DELETE",url:"http://54.242.170.33"+"/product/".concat(r)})}));case 3:alert("success deleted"),n();case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Oe.a,{show:a,onHide:n,variant:"lg"},r.a.createElement(Oe.a.Header,null,r.a.createElement("p",null,"Apakah Anda Yakin Ingin Menghapus Book ",t?t.name:""," ","ini ?")),r.a.createElement(Oe.a.Body,null,r.a.createElement(B.a,{variant:"primary",size:"sm",onClick:function(e){e.preventDefault(),n()},style:{marginRight:"10px"}},"Cancel"),r.a.createElement(B.a,{variant:"danger",size:"sm",onClick:o},"Delete")))})),we=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(A.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={show:!1,showEdit:!1,showDelete:!1,selectProduct:null,selectProductDelete:null},a.getProducts=function(){var e=a.props.authpersist.persistLogin.id,t=a.props.authpersist.persistLogin.token;a.props.dispatch(X(t,e))},a.handleShow=function(){a.setState({show:!0})},a.handleClose=function(){a.setState({show:!1})},a.handleShowEdit=function(){a.setState({showEdit:!0})},a.handleCloseEdit=function(){a.setState({showEdit:!1})},a.handleShowDelete=function(){a.setState({showDelete:!0})},a.handleCloseDelete=function(){a.setState({showDelete:!1})},a.onSelectItemProductEdit=function(e){a.setState({selectProduct:e,showEdit:!0})},a.onSelectProductDelete=function(e){a.setState({selectProductDelete:e,showDelete:!0})},a.paginateProducts=function(e){a.props.dispatch(K(e.target.id))},a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.authpersist.persistLogin.access_menu,t=this.props.products;(!e||e>2)&&(alert("Unothaurized"),this.props.history.push("/login")),this.getProducts(),t<1&&(alert("Token expired please relogin"),this.props.history.push("/login"))}},{key:"onLogout",value:function(){this.props.dispatch({type:"LOGOUT_USER"}),this.props.history.push("/login")}},{key:"render",value:function(){var e=this;console.log("render product");var t=this.props,a=t.pagination,n=t.products.products.map((function(t,a){return r.a.createElement(fe,{product:t,key:a,onSelectItemProductEdit:e.onSelectItemProductEdit,onSelectProductDelete:e.onSelectProductDelete})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{onClick:this.onLogout.bind(this)}),r.a.createElement(de.a,{style:{marginTop:"20px"}},r.a.createElement(te.a,{style:{marginBottom:"20px"}},r.a.createElement(ae.a,{sm:2},r.a.createElement(B.a,{variant:"primary",size:"sm",onClick:this.handleShow},"Add Product"))),r.a.createElement(Ee.a,{hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Image"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"category"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Stock"),r.a.createElement("th",{scope:"col"},"Actions"))),r.a.createElement("tbody",null,n)),r.a.createElement("div",{className:"row"},r.a.createElement("nav",{"aria-label":"Page navigation example"},r.a.createElement("ul",{className:"pagination perPage"},a.map((function(t){return r.a.createElement("li",{class:"page-item",key:t},r.a.createElement("a",{class:"page-link",onClick:e.paginateProducts,id:t},t))}))))),r.a.createElement(_e,{show:this.state.show,onHide:this.handleClose}),r.a.createElement(Ne,{show:this.state.showEdit,onHide:this.handleCloseEdit,product:this.state.selectProduct}),r.a.createElement(je,{show:this.state.showDelete,onHide:this.handleCloseDelete,product:this.state.selectProductDelete})))}}]),t}(n.Component),Te=Object(i.b)((function(e){return{products:e.products,pagination:e.products.paginate,authpersist:e.authpersist}}))(we),ke=a(105),Le=a.n(ke),Pe=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).onChange=function(e){a.setState(Object(ye.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e=Object(z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.props.dispatch((n=a.state,{type:"LOGIN_USER",payload:q()({method:"POST",url:"http://54.242.170.33/user/login",data:n})}));case 3:a.props.history.push("/");case 4:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={email:"",password:""},a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"onLogout",value:function(){this.props.dispatch({type:"LOGOUT_USER"})}},{key:"componentDidMount",value:function(){var e=this.props.auth;console.log("ini auth",e),e<1&&this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{marginTop:"21%"}},r.a.createElement("div",{className:"row justify-content-md-center"},r.a.createElement("div",{className:"col-md-8 my-4"},r.a.createElement("form",{onSubmit:this.onSubmit,className:"box"},r.a.createElement("div",{className:"form-group"},r.a.createElement("img",{src:Le.a,style:{width:"70%",height:"70%",borderRadius:"10%"}}),r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Enter email",name:"email",onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter password",name:"password",onChange:this.onChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login")))))}}]),t}(n.Component),Ue=Object(i.b)((function(e){return console.log("ini auth"),{authpersist:e.authpersist}}))(Pe),Re=function(e){var t=e.user,a=e.onSelectItemUserEdit,c=e.onSelectUserDelete;return r.a.createElement(n.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.name_menu),r.a.createElement("td",null,t.access_menu),r.a.createElement("td",null,t.created_at),r.a.createElement("td",null,r.a.createElement(B.a,{variant:"warning",size:"sm",onClick:function(e){e.preventDefault(),a(t)}},"Edit")," ","-"," ",r.a.createElement(B.a,{variant:"danger",size:"sm",onClick:function(e){e.preventDefault(),c(t)}},"Delete"))))},xe=function(e,t){return{type:"GET_USER",payload:q()({method:"GET",url:"http://54.242.170.33/user",headers:{authorization:e,user_id:t}})}},Ae=function(e){return{type:"POST_USER",payload:q()({method:"POST",url:"http://54.242.170.33/user/register",data:e})}},Ge=function(e,t){return{type:"UPDATE_USER",payload:q()({method:"PATCH",url:"http://54.242.170.33"+"/user/".concat(e),data:t})}},Ie=function(e,t){return{type:"UPDATE_MENU",payload:q()({method:"PATCH",url:"http://54.242.170.33"+"/user/menu/".concat(t),data:e})}},Fe=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(A.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",otoritas_id:""},a.onChange=function(e){a.setState(Object(ye.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e=Object(z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.props.dispatch(Ae(a.state));case 3:return alert("success added"),e.next=6,a.props.onHide();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.onHide;return r.a.createElement(Oe.a,{show:t,onHide:a,variant:"lg"},r.a.createElement(Oe.a.Header,null,r.a.createElement("p",null,"Add Book")),r.a.createElement(Oe.a.Body,null,r.a.createElement(Ce.a,{onSubmit:this.onSubmit},r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Name"),r.a.createElement(Ce.a.Control,{type:"text",name:"name",onChange:this.onChange})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Email"),r.a.createElement(Ce.a.Control,{type:"email",name:"email",onChange:this.onChange})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Password"),r.a.createElement(Ce.a.Control,{type:"password",name:"password",onChange:this.onChange})),r.a.createElement(Ce.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(Ce.a.Label,null,"Category"),r.a.createElement(Ce.a.Control,{as:"select",name:"category_id",onChange:this.onChange},r.a.createElement("option",{value:1},"Admin"),r.a.createElement("option",{value:2},"Cashier"))),r.a.createElement(Oe.a.Footer,null,r.a.createElement(B.a,{variant:"secondary",size:"sm",onClick:a},"Close"),r.a.createElement(B.a,{variant:"primary",size:"sm",type:"submit"},"Save")))))}}]),t}(n.Component),He=Object(i.b)()(Fe),ze=Object(i.b)()((function(e){var t=e.user,a=e.show,n=e.onHide,c=e.dispatch,o=function(){var e=Object(z.a)(H.a.mark((function e(a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,c((r=t.id,{type:"DELETE_USER",payload:q()({method:"DELETE",url:"http://54.242.170.33"+"/user/".concat(r)})}));case 3:alert("deleted"),n();case 5:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Oe.a,{show:a,onHide:n,variant:"lg"},r.a.createElement(Oe.a.Header,null,r.a.createElement("p",null,"Apakah Anda Yakin Ingin Menghapus Book ",t?t.name:""," ini ?")),r.a.createElement(Oe.a.Body,null,r.a.createElement(B.a,{variant:"primary",size:"sm",onClick:function(e){e.preventDefault(),n()},style:{marginRight:"10px"}},"Cancel"),r.a.createElement(B.a,{variant:"danger",size:"sm",onClick:o},"Delete")))})),Me=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(A.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",email:"",password:"",otoritas_id:"",created_at:""},a.onSetValue=function(e){a.setState({name:e.name,email:e.email,password:e.password,otoritas_id:e.access_menu,created_at:e.created_at})},a.onChange=function(e){a.setState(Object(ye.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e=Object(z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.props.user.id,e.next=4,a.props.dispatch(Ge(n,a.state));case 4:return alert("Update sukses"),e.next=7,a.props.onHide();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.user;this.onSetValue(t)}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.onHide;return r.a.createElement(Oe.a,{show:t,onHide:a,variant:"lg"},r.a.createElement(Oe.a.Header,null,r.a.createElement("p",null,"Edit User")),r.a.createElement(Oe.a.Body,null,r.a.createElement(Ce.a,{onSubmit:this.onSubmit},r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Name"),r.a.createElement(Ce.a.Control,{type:"text",name:"name",onChange:this.onChange,value:this.state.name})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Email"),r.a.createElement(Ce.a.Control,{type:"email",name:"email",onChange:this.onChange,value:this.state.email})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Password"),r.a.createElement(Ce.a.Control,{type:"password",name:"password",onChange:this.onChange})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Role"),r.a.createElement(Ce.a.Control,{type:"text",name:"otoritas_id",onChange:this.onChange,value:this.state.otoritas_id})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Create at"),r.a.createElement(Ce.a.Control,{type:"text",name:"created_at",onChange:this.onChange,value:this.state.created_at})),r.a.createElement(Oe.a.Footer,null,r.a.createElement(B.a,{variant:"secondary",size:"sm",onClick:a},"Close"),r.a.createElement(B.a,{variant:"primary",size:"sm",type:"submit"},"Save")))))}}]),t}(n.Component),Be=Object(i.b)()(Me),Je=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(A.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={otoritas:null,name_menu:"",access_menu:""},a.onChange=function(e){a.setState(Object(ye.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e=Object(z.a)(H.a.mark((function e(t){var n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.otoritas,r=a.state,t.preventDefault(),e.next=5,a.props.dispatch(Ie(r,n));case 5:return e.next=7,alert("success changed");case 7:return e.next=9,a.props.onHide();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){this.getMenu()}},{key:"getMenu",value:function(){this.props.dispatch({type:"GET_MENU",payload:q()({method:"GET",url:"http://54.242.170.33/user/menu"})})}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.onHide;return r.a.createElement(Oe.a,{show:t,onHide:a,variant:"lg"},r.a.createElement(Oe.a.Header,null,r.a.createElement("p",null,"Edit access menu")),r.a.createElement(Oe.a.Body,null,r.a.createElement(Ce.a,{onSubmit:this.onSubmit},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("select",{className:"form-control",value:this.state.otoritas,required:!0,name:"otoritas",onChange:this.onChange},r.a.createElement("option",{value:""},"Choose category"),this.props.menu.map((function(e,t){return r.a.createElement("option",{key:e.id,value:e.otoritas},e.name_menu)})))),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Name role"),r.a.createElement(Ce.a.Control,{type:"text",name:"name_menu",onChange:this.onChange,value:this.state.name_menu})),r.a.createElement(Ce.a.Group,null,r.a.createElement(Ce.a.Label,null,"Id Menu"),r.a.createElement(Ce.a.Control,{type:"number",name:"access_menu",onChange:this.onChange,value:this.state.access_menu})),r.a.createElement(Oe.a.Footer,null,r.a.createElement(B.a,{variant:"secondary",size:"sm",onClick:a},"Close"),r.a.createElement(B.a,{variant:"primary",size:"sm",type:"submit"},"Save")))))}}]),t}(n.Component),qe=Object(i.b)((function(e){return{menu:e.user.menu}}))(Je),Ve=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(A.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={show:!1,showEdit:!1,showDelete:!1,selectUser:null,selectUserDelete:null,editAccess:!1},a.getAllUser=Object(z.a)(H.a.mark((function e(){var t,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.authpersist.persistLogin.id,n=a.props.authpersist.persistLogin.token,e.next=4,a.props.dispatch(xe(n,t));case 4:case"end":return e.stop()}}),e)}))),a.handleShow=function(){a.setState({show:!0})},a.showEdit=function(){a.setState({showEdit:!0})},a.handleCloseEdit=function(){a.setState({showEdit:!1})},a.handleClose=function(){a.setState({show:!1})},a.handleShowDelete=function(){a.setState({showDelete:!0})},a.handleCloseDelete=function(){a.setState({showDelete:!1})},a.handleShowMenu=function(){a.setState({editAccess:!0})},a.handleCloseMenu=function(){a.setState({editAccess:!1})},a.onSelectItemUserEdit=function(e){a.setState({selectUser:e,showEdit:!0})},a.onSelectUserDelete=function(e){a.setState({selectUserDelete:e,showDelete:!0})},a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.authpersist.persistLogin.access_menu;(!e||e>1)&&(alert("Unothorized please login to access menu"),this.props.history.push("/login")),this.getAllUser()}},{key:"onLogout",value:function(){this.props.dispatch({type:"LOGOUT_USER"}),this.props.history.push("/login")}},{key:"render",value:function(){var e=this,t=this.props,a=t.user;if(404===t.message)return r.a.createElement("div",{class:"alert alert-danger",role:"alert"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h4",{class:"alert-heading"},"Token error!"),r.a.createElement("p",null,"Aww, you token is expired, you can login to fix it."),r.a.createElement("p",{class:"btn btn-primary"},r.a.createElement(l.b,{className:"nav-link",to:"/login"},r.a.createElement("strong",null,"Go to login page")))));var n=a.user.map((function(t,a){return r.a.createElement(Re,{user:t,key:a,onSelectItemUserEdit:e.onSelectItemUserEdit,onSelectUserDelete:e.onSelectUserDelete})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{onClick:this.onLogout.bind(this)}),r.a.createElement(de.a,{style:{marginTop:"20px"}},r.a.createElement(te.a,{style:{marginBottom:"20px"}},r.a.createElement(ae.a,{sm:8},r.a.createElement("h5",null,"Manage users"))),r.a.createElement(te.a,{style:{marginBottom:"20px"}},r.a.createElement(ae.a,{sm:2},r.a.createElement(B.a,{size:"sm",onClick:this.handleShowMenu},"Edit Access Menu")),r.a.createElement(ae.a,null,r.a.createElement(B.a,{size:"sm",onClick:this.handleShow},"Add User"))),r.a.createElement(Ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Role"),r.a.createElement("th",{scope:"col"},"Access id"),r.a.createElement("th",{scope:"col"},"Created_at"),r.a.createElement("th",{scope:"col"},"Actions"))),r.a.createElement("tbody",null,n)),r.a.createElement(qe,{show:this.state.editAccess,onHide:this.handleCloseMenu}),r.a.createElement(He,{show:this.state.show,onHide:this.handleClose}),r.a.createElement(Be,{show:this.state.showEdit,onHide:this.handleCloseEdit,user:this.state.selectUser}),r.a.createElement(ze,{show:this.state.showDelete,onHide:this.handleCloseDelete,user:this.state.selectUserDelete})))}}]),t}(n.Component),Qe=Object(i.b)((function(e){return{user:e.user,authpersist:e.authpersist,message:e.products.message}}))(Ve),We=function(e){function t(){var e,a;Object(R.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(A.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).detailProducts=function(e){a.props.dispatch($(e.target.value))},a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){!1===this.props.authpersist.isAuthenticated&&this.props.history.push("/login")}},{key:"onLogout",value:function(){this.props.dispatch({type:"LOGOUT_USER"}),this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement("div",{className:!0},r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("div",{className:"container"},r.a.createElement(l.b,{className:"navbar-brand bg-white"},"My^gadget"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{className:"nav-link",to:"#",onClick:this.onLogout.bind(this)},r.a.createElement("i",{className:"fas fa-sign-out-alt"}))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("input",{class:"form-control mr-sm-2",type:"search",name:"",onChange:this.detailProducts,placeholder:"Search"})),r.a.createElement("li",{className:"nav-item"},r.a.createElement("div",{class:"dropdown"},r.a.createElement("button",{class:"btn btn-white dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Filter"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupDrop1"}))))))),r.a.createElement(oe,null))}}]),t}(n.Component),Ye=Object(i.b)((function(e){return{authpersist:e.authpersist}}))(We),Xe=a(106),$e=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(A.a)(this,Object(G.a)(t).call(this,e))).getChart=function(){q.a.get("http://54.242.170.33/order/chart").then((function(e){var t=e.data.result;a.setState({Data:{labels:["January","February","March","April","May"],datasets:[{label:"Rainfall",fill:!1,lineTension:.5,backgroundColor:"rgba(75,192,19cd 2,1)",borderColor:"rgba(0,0,0,1)",borderWidth:3,data:[1,10,5,t]}]}})}))},a.componentDidMount=Object(z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getChart();case 2:case"end":return e.stop()}}),e)}))),a.state={Data:{}},a}return Object(I.a)(t,e),Object(x.a)(t,[{key:"onLogout",value:function(){localStorage.removeItem("user-id"),localStorage.removeItem("token"),localStorage.removeItem("isAuth"),localStorage.removeItem("otoritas_id"),this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(se,{onClick:this.onLogout.bind(this)}),r.a.createElement("div",{className:"chartHistory"},r.a.createElement(Xe.a,{data:this.state.Data,options:{title:{display:!0,text:"Average Rainfall per month",fontSize:20},legend:{display:!0,position:"right"}}})))}}]),t}(n.Component),Ke=Object(i.b)((function(e){return{chart:e.order.chart}}))($e);a(236);var Ze=function(){return r.a.createElement(i.a,{store:P},r.a.createElement(u.a,{loading:null,persistor:U},r.a.createElement(l.a,null,r.a.createElement(s.a,{exact:!0,path:"/",component:pe}),r.a.createElement(s.a,{path:"/product",component:Te}),r.a.createElement(s.a,{path:"/history",component:be}),r.a.createElement(s.a,{path:"/login",component:Ue}),r.a.createElement(s.a,{path:"/user",component:Qe}),r.a.createElement(s.a,{path:"/cashier",component:Ye}),r.a.createElement(s.a,{path:"/charts",component:Ke}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[110,1,2]]]);
//# sourceMappingURL=main.55619e17.chunk.js.map