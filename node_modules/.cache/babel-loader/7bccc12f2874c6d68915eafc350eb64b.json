{"ast":null,"code":"import _regeneratorRuntime from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Container,Col,Row,Button,Table}from'react-bootstrap';import UserItem from'./UserItem';import{connect}from'react-redux';import{getUser}from'../redux/actions/user';import UserAdd from'./UserAdd';import UserDelete from'./UserDelete';import Navbar from'../layout/Navbar';var Book=/*#__PURE__*/function(_Component){_inherits(Book,_Component);function Book(){var _getPrototypeOf2;var _this;_classCallCheck(this,Book);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Book)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={show:false,showEdit:false,showDelete:false,selectBook:null,selectUserDelete:null};_this.getAllUser=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.dispatch(getUser());case 2:case\"end\":return _context.stop();}}},_callee);}));_this.handleShow=function(){_this.setState({show:true});};_this.handleClose=function(){_this.setState({show:false});};_this.handleShowDelete=function(){_this.setState({showDelete:true});};_this.handleCloseDelete=function(){_this.setState({showDelete:false});};_this.onSelectUserDelete=function(user){_this.setState({selectUserDelete:user,showDelete:true});};return _this;}_createClass(Book,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAllUser();}},{key:\"onLogout\",value:function onLogout(){localStorage.removeItem('user-id');localStorage.removeItem('token');localStorage.removeItem('isAuth');localStorage.removeItem('otoritas_id');this.props.history.push('/login');}},{key:\"render\",value:function render(){var _this2=this;var user=this.props.user;var itemUser=user.user.map(function(user,index){return React.createElement(UserItem,{user:user,key:index,onSelectItemUserEdit:_this2.onSelectItemUserEdit,onSelectUserDelete:_this2.onSelectUserDelete});});return React.createElement(React.Fragment,null,React.createElement(Navbar,{onClick:this.onLogout.bind(this)}),React.createElement(Container,{style:{marginTop:\"20px\"}},React.createElement(Row,{style:{marginBottom:\"20px\"}},React.createElement(Col,{sm:10},React.createElement(\"h5\",null,\"Manage users\")),React.createElement(Col,{sm:2},React.createElement(Button,{variant:\"primary\",size:\"sm\",onClick:this.handleShow},\"Add User\"))),React.createElement(Table,{striped:true,bordered:true,hover:true,size:\"sm\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{scope:\"col\"},\"#\"),React.createElement(\"th\",{scope:\"col\"},\"Name\"),React.createElement(\"th\",{scope:\"col\"},\"Email\"),React.createElement(\"th\",{scope:\"col\"},\"Role Id\"),React.createElement(\"th\",{scope:\"col\"},\"Created_at\"),React.createElement(\"th\",{scope:\"col\"},\"Actions\"))),React.createElement(\"tbody\",null,itemUser)),React.createElement(UserAdd,{show:this.state.show,onHide:this.handleClose}),React.createElement(UserDelete,{show:this.state.showDelete,onHide:this.handleCloseDelete,user:this.state.selectUserDelete})));}}]);return Book;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user};};export default connect(mapStateToProps)(Book);","map":{"version":3,"sources":["/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/src/components/user/User.js"],"names":["React","Component","Container","Col","Row","Button","Table","UserItem","connect","getUser","UserAdd","UserDelete","Navbar","Book","state","show","showEdit","showDelete","selectBook","selectUserDelete","getAllUser","props","dispatch","handleShow","setState","handleClose","handleShowDelete","handleCloseDelete","onSelectUserDelete","user","localStorage","removeItem","history","push","itemUser","map","index","onSelectItemUserEdit","onLogout","bind","marginTop","marginBottom","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Container, Col, Row, Button, Table } from 'react-bootstrap';\nimport UserItem from './UserItem';\nimport { connect } from 'react-redux';\nimport { getUser } from '../redux/actions/user';\nimport UserAdd from './UserAdd';\nimport UserDelete from './UserDelete';\nimport Navbar from '../layout/Navbar'\n\n\nclass Book extends Component {\n  state = {\n    show: false,\n    showEdit: false,\n    showDelete: false,\n    selectBook: null,\n    selectUserDelete: null,\n  }\n  componentDidMount() {\n    this.getAllUser();\n  }\n\n  getAllUser = async () => {\n    await this.props.dispatch(getUser());\n  }\n\n  handleShow = () => {\n    this.setState({\n      show: true\n    })\n  }\n\n  handleClose = () => {\n    this.setState({\n      show: false\n    })\n  }\n  handleShowDelete = () => {\n    this.setState({\n      showDelete: true\n    })\n  }\n\n  handleCloseDelete = () => {\n    this.setState({\n      showDelete: false\n    })\n  }\n  onSelectUserDelete = (user) => {\n    this.setState({\n      selectUserDelete: user,\n      showDelete: true\n    })\n  }\n  onLogout() {\n    localStorage.removeItem('user-id');\n    localStorage.removeItem('token');\n    localStorage.removeItem('isAuth');\n    localStorage.removeItem('otoritas_id');\n    this.props.history.push('/login');\n  }\n  render() {\n    const { user } = this.props;\n    const itemUser = user.user.map((user, index) => <UserItem user={user} key={index} onSelectItemUserEdit={this.onSelectItemUserEdit} onSelectUserDelete={this.onSelectUserDelete} />);\n\n    return (\n      <React.Fragment>\n        <Navbar onClick={this.onLogout.bind(this)} />\n        <Container style={{ marginTop: \"20px\" }}>\n          <Row style={{ marginBottom: \"20px\" }}>\n            <Col sm={10}>\n              <h5>Manage users</h5>\n            </Col>\n            <Col sm={2}>\n              <Button variant=\"primary\" size=\"sm\" onClick={this.handleShow} >Add User</Button>\n            </Col>\n          </Row>\n          <Table striped bordered hover size=\"sm\">\n            <thead>\n              <tr>\n                <th scope=\"col\">#</th>\n                <th scope=\"col\">Name</th>\n                <th scope=\"col\">Email</th>\n                <th scope=\"col\">Role Id</th>\n                <th scope=\"col\">Created_at</th>\n                <th scope=\"col\">Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {itemUser}\n            </tbody>\n          </Table>\n          <UserAdd show={this.state.show} onHide={this.handleClose} />\n          <UserDelete show={this.state.showDelete} onHide={this.handleCloseDelete} user={this.state.selectUserDelete} />\n        </Container>\n      </React.Fragment>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.user\n  }\n}\n\nexport default connect(mapStateToProps)(Book);"]},"metadata":{},"sourceType":"module"}