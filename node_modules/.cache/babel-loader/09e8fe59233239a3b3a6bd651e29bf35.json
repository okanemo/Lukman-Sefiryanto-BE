{"ast":null,"code":"import _classCallCheck from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Container,Col,Row,Button,Table}from'react-bootstrap';import{connect}from'react-redux';import{getProducts,paginateProducts}from'../redux/actions/product';import{logout}from'../redux/actions/authpersist';import ProductItem from'./ProductItem';import ProductAdd from'./ProductAdd';import ProductEdit from'./ProductEdit';import ProductDelete from'./ProductDelete';import Navbar from'../layout/Navbar';var Product=/*#__PURE__*/function(_Component){_inherits(Product,_Component);function Product(){var _getPrototypeOf2;var _this;_classCallCheck(this,Product);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Product)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={show:false,showEdit:false,showDelete:false,selectProduct:null,selectProductDelete:null};_this.getProducts=function(){var authorization=_this.props.authpersist.persistLogin.id;var userId=_this.props.authpersist.persistLogin.token;_this.props.dispatch(getProducts(userId,authorization));};_this.handleShow=function(){_this.setState({show:true});};_this.handleClose=function(){_this.setState({show:false});};_this.handleShowEdit=function(){_this.setState({showEdit:true});};_this.handleCloseEdit=function(){_this.setState({showEdit:false});};_this.handleShowDelete=function(){_this.setState({showDelete:true});};_this.handleCloseDelete=function(){_this.setState({showDelete:false});};_this.onSelectItemProductEdit=function(product){_this.setState({selectProduct:product,showEdit:true});};_this.onSelectProductDelete=function(product){_this.setState({selectProductDelete:product,showDelete:true});};_this.paginateProducts=function(event){_this.props.dispatch(paginateProducts(event.target.id));};return _this;}_createClass(Product,[{key:\"componentDidMount\",value:function componentDidMount(){var access=this.props.authpersist.persistLogin.access_menu;var products=this.props.products;if(!access||access>2){alert('Unothaurized');this.props.history.push('/login');}this.getProducts();if(products<1){alert('Token expired please relogin');this.props.history.push('/login');}}},{key:\"onLogout\",value:function onLogout(){this.props.dispatch(logout());this.props.history.push('/login');}},{key:\"render\",value:function render(){var _this2=this;console.log('render product');var _this$props=this.props,pagination=_this$props.pagination,products=_this$props.products;var itemProduct=products.products.map(function(product,index){return React.createElement(ProductItem,{product:product,key:index,onSelectItemProductEdit:_this2.onSelectItemProductEdit,onSelectProductDelete:_this2.onSelectProductDelete});});return React.createElement(React.Fragment,null,React.createElement(Navbar,{onClick:this.onLogout.bind(this)}),React.createElement(Container,{style:{marginTop:'20px'}},React.createElement(Row,{style:{marginBottom:'20px'}},React.createElement(Col,{sm:2},React.createElement(Button,{variant:\"primary\",size:\"sm\",onClick:this.handleShow},\"Add Product\"))),React.createElement(Table,{hover:true,size:\"sm\"},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",{scope:\"col\"},\"Image\"),React.createElement(\"th\",{scope:\"col\"},\"Name\"),React.createElement(\"th\",{scope:\"col\"},\"Description\"),React.createElement(\"th\",{scope:\"col\"},\"category\"),React.createElement(\"th\",{scope:\"col\"},\"Price\"),React.createElement(\"th\",{scope:\"col\"},\"Stock\"),React.createElement(\"th\",{scope:\"col\"},\"Actions\"))),React.createElement(\"tbody\",null,itemProduct)),React.createElement(\"div\",{className:\"row\"},React.createElement(\"nav\",{\"aria-label\":\"Page navigation example\"},React.createElement(\"ul\",{className:\"pagination perPage\"},pagination.map(function(pagination){return React.createElement(\"li\",{class:\"page-item\",key:pagination},React.createElement(\"a\",{class:\"page-link\",onClick:_this2.paginateProducts,id:pagination},pagination));})))),React.createElement(ProductAdd,{show:this.state.show,onHide:this.handleClose}),React.createElement(ProductEdit,{show:this.state.showEdit,onHide:this.handleCloseEdit,product:this.state.selectProduct}),React.createElement(ProductDelete,{show:this.state.showDelete,onHide:this.handleCloseDelete,product:this.state.selectProductDelete})));}}]);return Product;}(Component);var mapStateToProps=function mapStateToProps(state){return{products:state.products,pagination:state.products.paginate,authpersist:state.authpersist};};export default connect(mapStateToProps)(Product);","map":{"version":3,"sources":["/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/src/components/product/Product.js"],"names":["React","Component","Container","Col","Row","Button","Table","connect","getProducts","paginateProducts","logout","ProductItem","ProductAdd","ProductEdit","ProductDelete","Navbar","Product","state","show","showEdit","showDelete","selectProduct","selectProductDelete","authorization","props","authpersist","persistLogin","id","userId","token","dispatch","handleShow","setState","handleClose","handleShowEdit","handleCloseEdit","handleShowDelete","handleCloseDelete","onSelectItemProductEdit","product","onSelectProductDelete","event","target","access","access_menu","products","alert","history","push","console","log","pagination","itemProduct","map","index","onLogout","bind","marginTop","marginBottom","mapStateToProps","paginate"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Container, Col, Row, Button, Table } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { getProducts, paginateProducts } from '../redux/actions/product';\nimport { logout } from '../redux/actions/authpersist';\nimport ProductItem from './ProductItem';\nimport ProductAdd from './ProductAdd';\nimport ProductEdit from './ProductEdit';\nimport ProductDelete from './ProductDelete';\nimport Navbar from '../layout/Navbar';\n\nclass Product extends Component {\n  state = {\n    show: false,\n    showEdit: false,\n    showDelete: false,\n    selectProduct: null,\n    selectProductDelete: null,\n  };\n  componentDidMount() {\n    const access = this.props.authpersist.persistLogin.access_menu;\n    const { products } = this.props;\n    if (!access || access > 2) {\n      alert('Unothaurized');\n      this.props.history.push('/login');\n    }\n    this.getProducts();\n    if (products < 1) {\n      alert('Token expired please relogin');\n      this.props.history.push('/login');\n    }\n  }\n\n  getProducts = () => {\n    const authorization = this.props.authpersist.persistLogin.id;\n    const userId = this.props.authpersist.persistLogin.token;\n    this.props.dispatch(getProducts(userId, authorization));\n  };\n  handleShow = () => {\n    this.setState({\n      show: true,\n    });\n  };\n\n  handleClose = () => {\n    this.setState({\n      show: false,\n    });\n  };\n  handleShowEdit = () => {\n    this.setState({\n      showEdit: true,\n    });\n  };\n\n  handleCloseEdit = () => {\n    this.setState({\n      showEdit: false,\n    });\n  };\n\n  handleShowDelete = () => {\n    this.setState({\n      showDelete: true,\n    });\n  };\n\n  handleCloseDelete = () => {\n    this.setState({\n      showDelete: false,\n    });\n  };\n\n  onSelectItemProductEdit = (product) => {\n    this.setState({\n      selectProduct: product,\n      showEdit: true,\n    });\n  };\n\n  onSelectProductDelete = (product) => {\n    this.setState({\n      selectProductDelete: product,\n      showDelete: true,\n    });\n  };\n  onLogout() {\n    this.props.dispatch(logout());\n    this.props.history.push('/login');\n  }\n  paginateProducts = (event) => {\n    this.props.dispatch(paginateProducts(event.target.id));\n  };\n\n  render() {\n    console.log('render product');\n    const { pagination, products } = this.props;\n    const itemProduct = products.products.map((product, index) => (\n      <ProductItem\n        product={product}\n        key={index}\n        onSelectItemProductEdit={this.onSelectItemProductEdit}\n        onSelectProductDelete={this.onSelectProductDelete}\n      />\n    ));\n    return (\n      <React.Fragment>\n        <Navbar onClick={this.onLogout.bind(this)} />\n        <Container style={{ marginTop: '20px' }}>\n          <Row style={{ marginBottom: '20px' }}>\n            <Col sm={2}>\n              <Button variant='primary' size='sm' onClick={this.handleShow}>\n                Add Product\n              </Button>\n            </Col>\n          </Row>\n          <Table hover size='sm'>\n            <thead>\n              <tr>\n                <th scope='col'>Image</th>\n                <th scope='col'>Name</th>\n                <th scope='col'>Description</th>\n                <th scope='col'>category</th>\n                <th scope='col'>Price</th>\n                <th scope='col'>Stock</th>\n                <th scope='col'>Actions</th>\n              </tr>\n            </thead>\n            <tbody>{itemProduct}</tbody>\n          </Table>\n          <div className='row'>\n            <nav aria-label='Page navigation example'>\n              <ul className='pagination perPage'>\n                {pagination.map((pagination) => (\n                  <li class='page-item' key={pagination}>\n                    <a\n                      class='page-link'\n                      onClick={this.paginateProducts}\n                      id={pagination}\n                    >\n                      {pagination}\n                    </a>\n                  </li>\n                ))}\n              </ul>\n            </nav>\n          </div>\n          <ProductAdd show={this.state.show} onHide={this.handleClose} />\n          <ProductEdit\n            show={this.state.showEdit}\n            onHide={this.handleCloseEdit}\n            product={this.state.selectProduct}\n          />\n          <ProductDelete\n            show={this.state.showDelete}\n            onHide={this.handleCloseDelete}\n            product={this.state.selectProductDelete}\n          />\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  return {\n    products: state.products,\n    pagination: state.products.paginate,\n    authpersist: state.authpersist,\n  };\n};\n\nexport default connect(mapStateToProps)(Product);\n"]},"metadata":{},"sourceType":"module"}