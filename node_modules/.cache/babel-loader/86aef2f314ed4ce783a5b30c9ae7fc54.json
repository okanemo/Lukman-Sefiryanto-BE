{"ast":null,"code":"var _jsxFileName = \"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/src/components/home/Home.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Books from './product';\nimport Navbar from '../layout/Navbar';\nimport Pagination from './Pagination';\nimport { logout } from '../redux/actions/authpersist';\nimport { connect } from 'react-redux';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      carts: [],\n      selectProduct: null,\n      category: '',\n      product: '',\n      page: ''\n    };\n  }\n\n  componentDidMount() {\n    const token = this.props;\n    const access = this.props.authpersist.persistLogin.access_menu;\n\n    if (!token && this.props.authpersist.isAuthenticated === false) {\n      this.props.history.push('/login');\n    }\n\n    if (access > 2) {\n      this.props.history.push('/cashier');\n    }\n  }\n\n  onLogout() {\n    this.props.dispatch(logout());\n    this.props.history.push('/login');\n  }\n\n  render() {\n    const {\n      message\n    } = this.props;\n\n    if (message === 404) {\n      return React.createElement(\"div\", {\n        className: \"container justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"alert alert-danger\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        class: \"alert-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Token error!\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Aww, you token is expired, you can login to fix it.\"), React.createElement(\"p\", {\n        class: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(Link, {\n        className: \"nav-link\",\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Go to login page\")))));\n    }\n\n    return React.createElement(\"div\", {\n      className: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      onClick: this.onLogout.bind(this),\n      product: this.state.product,\n      page: this.state.page,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(Books, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(Pagination, {\n      category: this.state.category,\n      product: this.state.product,\n      page: this.state.page,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log('homedddstate', state.products.message);\n  return {\n    authpersist: state.authpersist,\n    token: state.authpersist.persistLogin.token,\n    message: state.products.message\n  };\n};\n\nexport default connect(mapStateToProps)(Home);","map":{"version":3,"sources":["/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/src/components/home/Home.js"],"names":["React","Component","Link","Books","Navbar","Pagination","logout","connect","Home","constructor","props","state","products","carts","selectProduct","category","product","page","componentDidMount","token","access","authpersist","persistLogin","access_menu","isAuthenticated","history","push","onLogout","dispatch","render","message","bind","mapStateToProps","console","log"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Books from './product';\nimport Navbar from '../layout/Navbar';\nimport Pagination from './Pagination';\nimport { logout } from '../redux/actions/authpersist';\nimport { connect } from 'react-redux';\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      products: [],\n      carts: [],\n      selectProduct: null,\n      category: '',\n      product: '',\n      page: '',\n    };\n  }\n  componentDidMount() {\n    const token = this.props;\n    const access = this.props.authpersist.persistLogin.access_menu;\n    if (!token && this.props.authpersist.isAuthenticated === false) {\n      this.props.history.push('/login');\n    }\n    if (access > 2) {\n      this.props.history.push('/cashier');\n    }\n  }\n\n  onLogout() {\n    this.props.dispatch(logout());\n    this.props.history.push('/login');\n  }\n\n  render() {\n    const { message } = this.props;\n    if (message === 404) {\n      return (\n        <div className='container justify-content-center'>\n          <div class='alert alert-danger' role='alert'>\n            <h4 class='alert-heading'>Token error!</h4>\n            <p>Aww, you token is expired, you can login to fix it.</p>\n            <p class='btn btn-primary'>\n              <Link className='nav-link' to='/login'>\n                <strong>Go to login page</strong>\n              </Link>\n            </p>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className>\n        <Navbar\n          onClick={this.onLogout.bind(this)}\n          product={this.state.product}\n          page={this.state.page}\n        />\n        <Books />\n        <Pagination\n          category={this.state.category}\n          product={this.state.product}\n          page={this.state.page}\n        />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  console.log('homedddstate', state.products.message);\n  return {\n    authpersist: state.authpersist,\n    token: state.authpersist.persistLogin.token,\n    message: state.products.message,\n  };\n};\n\nexport default connect(mapStateToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}