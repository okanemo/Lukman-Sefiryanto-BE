{"ast":null,"code":"import _regeneratorRuntime from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Line}from'react-chartjs-2';import{connect}from'react-redux';// import { chartHistory } from '../redux/actions/order';\nimport axios from'axios';import Navbar from'../layout/Navbar';var Charts=/*#__PURE__*/function(_Component){_inherits(Charts,_Component);function Charts(props){var _this;_classCallCheck(this,Charts);_this=_possibleConstructorReturn(this,_getPrototypeOf(Charts).call(this,props));_this.getChart=function(){axios.get(\"http://54.242.170.33/order/chart\").then(function(res){var dataChart=res.data.result;_this.setState({Data:{labels:['January','February','March','April','May'],datasets:[{label:'Rainfall',fill:false,lineTension:0.5,backgroundColor:'rgba(75,192,19cd 2,1)',borderColor:'rgba(0,0,0,1)',borderWidth:3,data:[1,10,5,dataChart]}]}});});};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.getChart();case 2:case\"end\":return _context.stop();}}},_callee);}));_this.state={Data:{}};return _this;}_createClass(Charts,[{key:\"onLogout\",value:function onLogout(){localStorage.removeItem('user-id');localStorage.removeItem('token');localStorage.removeItem('isAuth');localStorage.removeItem('otoritas_id');this.props.history.push('/login');}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(Navbar,{onClick:this.onLogout.bind(this)}),React.createElement(\"div\",{className:\"chartHistory\"},React.createElement(Line,{data:this.state.Data,options:{title:{display:true,text:'Average Rainfall per month',fontSize:20},legend:{display:true,position:'right'}}})));}}]);return Charts;}(Component);var mapStateToProps=function mapStateToProps(state){// console.log('ini chartsttea', state.order.chart)\nreturn{chart:state.order.chart};};export default connect(mapStateToProps)(Charts);","map":{"version":3,"sources":["/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/src/components/history/Charts.js"],"names":["React","Component","Line","connect","axios","Navbar","Charts","props","getChart","get","then","res","dataChart","data","result","setState","Data","labels","datasets","label","fill","lineTension","backgroundColor","borderColor","borderWidth","componentDidMount","state","localStorage","removeItem","history","push","onLogout","bind","title","display","text","fontSize","legend","position","mapStateToProps","chart","order"],"mappings":"6+BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,iBAArB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,C,GAEMC,CAAAA,M,gEACJ,gBAAYC,KAAZ,CAAmB,wCACjB,wEAAMA,KAAN,GADiB,MAMnBC,QANmB,CAMR,UAAM,CACfJ,KAAK,CAACK,GAAN,qCAA8CC,IAA9C,CAAmD,SAACC,GAAD,CAAS,CAC1D,GAAIC,CAAAA,SAAS,CAAGD,GAAG,CAACE,IAAJ,CAASC,MAAzB,CACA,MAAKC,QAAL,CAAc,CACZC,IAAI,CAAE,CACJC,MAAM,CAAE,CAAC,SAAD,CAAY,UAAZ,CAAwB,OAAxB,CAAiC,OAAjC,CAA0C,KAA1C,CADJ,CAEJC,QAAQ,CAAE,CACR,CACEC,KAAK,CAAE,UADT,CAEEC,IAAI,CAAE,KAFR,CAGEC,WAAW,CAAE,GAHf,CAIEC,eAAe,CAAE,uBAJnB,CAKEC,WAAW,CAAE,eALf,CAMEC,WAAW,CAAE,CANf,CAOEX,IAAI,CAAE,CAAC,CAAD,CAAI,EAAJ,CAAQ,CAAR,CAAWD,SAAX,CAPR,CADQ,CAFN,CADM,CAAd,EAgBD,CAlBD,EAmBD,CA1BkB,OAkCnBa,iBAlCmB,sEAkCC,yJACZ,OAAKjB,QAAL,EADY,uDAlCD,GAEjB,MAAKkB,KAAL,CAAa,CACXV,IAAI,CAAE,EADK,CAAb,CAFiB,aAKlB,C,8DAsBU,CACTW,YAAY,CAACC,UAAb,CAAwB,SAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,OAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,QAAxB,EACAD,YAAY,CAACC,UAAb,CAAwB,aAAxB,EACA,KAAKrB,KAAL,CAAWsB,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACD,C,uCAKQ,CACP,MACE,gCACE,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAKC,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAjB,EADF,CAEE,2BAAK,SAAS,CAAC,cAAf,EACE,oBAAC,IAAD,EACE,IAAI,CAAE,KAAKN,KAAL,CAAWV,IADnB,CAEE,OAAO,CAAE,CACPiB,KAAK,CAAE,CACLC,OAAO,CAAE,IADJ,CAELC,IAAI,CAAE,4BAFD,CAGLC,QAAQ,CAAE,EAHL,CADA,CAMPC,MAAM,CAAE,CACNH,OAAO,CAAE,IADH,CAENI,QAAQ,CAAE,OAFJ,CAND,CAFX,EADF,CAFF,CADF,CAqBD,C,oBA7DkBrC,S,EA+DrB,GAAMsC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACb,KAAD,CAAW,CACjC;AACA,MAAO,CACLc,KAAK,CAAEd,KAAK,CAACe,KAAN,CAAYD,KADd,CAAP,CAGD,CALD,CAMA,cAAerC,CAAAA,OAAO,CAACoC,eAAD,CAAP,CAAyBjC,MAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport { connect } from 'react-redux';\n// import { chartHistory } from '../redux/actions/order';\nimport axios from 'axios';\nimport Navbar from '../layout/Navbar';\n\nclass Charts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Data: {},\n    };\n  }\n  getChart = () => {\n    axios.get(`http://54.242.170.33/order/chart`).then((res) => {\n      let dataChart = res.data.result;\n      this.setState({\n        Data: {\n          labels: ['January', 'February', 'March', 'April', 'May'],\n          datasets: [\n            {\n              label: 'Rainfall',\n              fill: false,\n              lineTension: 0.5,\n              backgroundColor: 'rgba(75,192,19cd 2,1)',\n              borderColor: 'rgba(0,0,0,1)',\n              borderWidth: 3,\n              data: [1, 10, 5, dataChart],\n            },\n          ],\n        },\n      });\n    });\n  };\n  onLogout() {\n    localStorage.removeItem('user-id');\n    localStorage.removeItem('token');\n    localStorage.removeItem('isAuth');\n    localStorage.removeItem('otoritas_id');\n    this.props.history.push('/login');\n  }\n  componentDidMount = async () => {\n    await this.getChart();\n  };\n\n  render() {\n    return (\n      <div>\n        <Navbar onClick={this.onLogout.bind(this)} />\n        <div className='chartHistory'>\n          <Line\n            data={this.state.Data}\n            options={{\n              title: {\n                display: true,\n                text: 'Average Rainfall per month',\n                fontSize: 20,\n              },\n              legend: {\n                display: true,\n                position: 'right',\n              },\n            }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  // console.log('ini chartsttea', state.order.chart)\n  return {\n    chart: state.order.chart,\n  };\n};\nexport default connect(mapStateToProps)(Charts);\n"]},"metadata":{},"sourceType":"module"}