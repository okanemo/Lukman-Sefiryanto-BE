{"ast":null,"code":"import _regeneratorRuntime from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import{connect}from'react-redux';import{login,logout}from'../redux/actions/authpersist';import image from'../../images/logomygadget.png';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return _this.props.dispatch(login(_this.state));case 3:_this.props.history.push('/');case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={email:'',password:''};return _this;}_createClass(Login,[{key:\"onLogout\",value:function onLogout(){this.props.dispatch(logout());}},{key:\"componentDidMount\",value:function componentDidMount(){// this.onLogout();\nvar auth=this.props.auth;console.log('ini auth',auth);if(auth<1){this.props.history.push('/login');}}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"container\",style:{marginTop:'21%'}},React.createElement(\"div\",{className:\"row justify-content-md-center\"},React.createElement(\"div\",{className:\"col-md-8 my-4\"},React.createElement(\"form\",{onSubmit:this.onSubmit,className:\"box\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"img\",{src:image,style:{width:'70%',height:'70%',borderRadius:'10%'}}),React.createElement(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Enter email\",name:\"email\",onChange:this.onChange})),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Enter password\",name:\"password\",onChange:this.onChange})),React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Login\")))));}}]);return Login;}(Component);var mapStateToProps=function mapStateToProps(state){console.log('ini auth');return{authpersist:state.authpersist};};export default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/src/components/auth/Login.js"],"names":["React","Component","axios","connect","login","logout","image","Login","props","onChange","e","setState","target","name","value","onSubmit","preventDefault","dispatch","state","history","push","email","password","auth","console","log","marginTop","width","height","borderRadius","mapStateToProps","authpersist"],"mappings":"6nCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,8BAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,+BAAlB,C,GACMC,CAAAA,K,+DACJ,eAAYC,KAAZ,CAAmB,uCACjB,uEAAMA,KAAN,GADiB,MAmBnBC,QAnBmB,CAmBR,SAACC,CAAD,CAAO,CAChB,MAAKC,QAAL,oBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,CAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C,GACD,CArBkB,OAuBnBC,QAvBmB,0FAuBR,iBAAOL,CAAP,kHACTA,CAAC,CAACM,cAAF,GADS,sBAEH,OAAKR,KAAL,CAAWS,QAAX,CAAoBb,KAAK,CAAC,MAAKc,KAAN,CAAzB,CAFG,QAGT,MAAKV,KAAL,CAAWW,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EAHS,sDAvBQ,+DAGjB,MAAKF,KAAL,CAAa,CACXG,KAAK,CAAE,EADI,CAEXC,QAAQ,CAAE,EAFC,CAAb,CAHiB,aAOlB,C,6DACU,CACT,KAAKd,KAAL,CAAWS,QAAX,CAAoBZ,MAAM,EAA1B,EACD,C,6DACmB,CAClB;AACA,GAAMkB,CAAAA,IAAI,CAAG,KAAKf,KAAL,CAAWe,IAAxB,CACAC,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBF,IAAxB,EACA,GAAIA,IAAI,CAAG,CAAX,CAAc,CACZ,KAAKf,KAAL,CAAWW,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACD,CACF,C,uCAWQ,CACP,MACE,4BAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAAEM,SAAS,CAAE,KAAb,CAAlC,EACE,2BAAK,SAAS,CAAC,+BAAf,EACE,2BAAK,SAAS,CAAC,eAAf,EACE,4BAAM,QAAQ,CAAE,KAAKX,QAArB,CAA+B,SAAS,CAAC,KAAzC,EACE,2BAAK,SAAS,CAAC,YAAf,EACE,2BACE,GAAG,CAAET,KADP,CAEE,KAAK,CAAE,CAAEqB,KAAK,CAAE,KAAT,CAAgBC,MAAM,CAAE,KAAxB,CAA+BC,YAAY,CAAE,KAA7C,CAFT,EADF,CAKE,6BACE,IAAI,CAAC,OADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,aAHd,CAIE,IAAI,CAAC,OAJP,CAKE,QAAQ,CAAE,KAAKpB,QALjB,EALF,CADF,CAcE,2BAAK,SAAS,CAAC,YAAf,EACE,6BACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,gBAHd,CAIE,IAAI,CAAC,UAJP,CAKE,QAAQ,CAAE,KAAKA,QALjB,EADF,CAdF,CAuBE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,UAvBF,CADF,CADF,CADF,CADF,CAmCD,C,mBAlEiBR,S,EAoEpB,GAAM6B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACZ,KAAD,CAAW,CACjCM,OAAO,CAACC,GAAR,CAAY,UAAZ,EACA,MAAO,CACLM,WAAW,CAAEb,KAAK,CAACa,WADd,CAAP,CAGD,CALD,CAMA,cAAe5B,CAAAA,OAAO,CAAC2B,eAAD,CAAP,CAAyBvB,KAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { login, logout } from '../redux/actions/authpersist';\nimport image from '../../images/logomygadget.png';\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      password: '',\n    };\n  }\n  onLogout() {\n    this.props.dispatch(logout());\n  }\n  componentDidMount() {\n    // this.onLogout();\n    const auth = this.props.auth;\n    console.log('ini auth', auth);\n    if (auth < 1) {\n      this.props.history.push('/login');\n    }\n  }\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  onSubmit = async (e) => {\n    e.preventDefault();\n    await this.props.dispatch(login(this.state));\n    this.props.history.push('/');\n  };\n\n  render() {\n    return (\n      <div className='container' style={{ marginTop: '21%' }}>\n        <div className='row justify-content-md-center'>\n          <div className='col-md-8 my-4'>\n            <form onSubmit={this.onSubmit} className='box'>\n              <div className='form-group'>\n                <img\n                  src={image}\n                  style={{ width: '70%', height: '70%', borderRadius: '10%' }}\n                />\n                <input\n                  type='email'\n                  className='form-control'\n                  placeholder='Enter email'\n                  name='email'\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className='form-group'>\n                <input\n                  type='password'\n                  className='form-control'\n                  placeholder='Enter password'\n                  name='password'\n                  onChange={this.onChange}\n                />\n              </div>\n              <button type='submit' className='btn btn-primary'>\n                Login\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  console.log('ini auth');\n  return {\n    authpersist: state.authpersist,\n  };\n};\nexport default connect(mapStateToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}