{"ast":null,"code":"import _classCallCheck from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from'react-router-dom';import Books from'./product';import Navbar from'../layout/Navbar';import Pagination from'./Pagination';import{logout}from'../redux/actions/authpersist';import{connect}from'react-redux';var Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);function Home(props){var _this;_classCallCheck(this,Home);_this=_possibleConstructorReturn(this,_getPrototypeOf(Home).call(this,props));_this.state={products:[],carts:[],selectProduct:null,category:'',product:'',page:''};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){var token=this.props;var access=this.props.authpersist.persistLogin.access_menu;if(!token&&this.props.authpersist.isAuthenticated===false){this.props.history.push('/login');}if(access>2){this.props.history.push('/cashier');}}},{key:\"onLogout\",value:function onLogout(){this.props.dispatch(logout());this.props.history.push('/login');}},{key:\"render\",value:function render(){var message=this.props.message;if(message===404){return React.createElement(\"div\",{class:\"alert alert-danger\",role:\"alert\"},React.createElement(\"div\",{className:\"container text-center\"},React.createElement(\"h4\",{class:\"alert-heading\"},\"Token error!\"),React.createElement(\"p\",null,\"Aww, you token is expired, you can login to fix it.\"),React.createElement(\"p\",{class:\"btn btn-primary\"},React.createElement(Link,{className:\"nav-link\",to:\"/login\"},React.createElement(\"strong\",null,\"Go to login page\")))));}return React.createElement(\"div\",{className:true},React.createElement(Navbar,{onClick:this.onLogout.bind(this),product:this.state.product,page:this.state.page}),React.createElement(Books,null),React.createElement(Pagination,{category:this.state.category,product:this.state.product,page:this.state.page}));}}]);return Home;}(Component);var mapStateToProps=function mapStateToProps(state){console.log('homedddstate',state.products.message);return{authpersist:state.authpersist,token:state.authpersist.persistLogin.token,message:state.products.message};};export default connect(mapStateToProps)(Home);","map":{"version":3,"sources":["/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/src/components/home/Home.js"],"names":["React","Component","Link","Books","Navbar","Pagination","logout","connect","Home","props","state","products","carts","selectProduct","category","product","page","token","access","authpersist","persistLogin","access_menu","isAuthenticated","history","push","dispatch","message","onLogout","bind","mapStateToProps","console","log"],"mappings":"otBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,WAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,OAASC,MAAT,KAAuB,8BAAvB,CACA,OAASC,OAAT,KAAwB,aAAxB,C,GACMC,CAAAA,I,8DACJ,cAAYC,KAAZ,CAAmB,sCACjB,sEAAMA,KAAN,GAEA,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,KAAK,CAAE,EAFI,CAGXC,aAAa,CAAE,IAHJ,CAIXC,QAAQ,CAAE,EAJC,CAKXC,OAAO,CAAE,EALE,CAMXC,IAAI,CAAE,EANK,CAAb,CAHiB,aAWlB,C,8EACmB,CAClB,GAAMC,CAAAA,KAAK,CAAG,KAAKR,KAAnB,CACA,GAAMS,CAAAA,MAAM,CAAG,KAAKT,KAAL,CAAWU,WAAX,CAAuBC,YAAvB,CAAoCC,WAAnD,CACA,GAAI,CAACJ,KAAD,EAAU,KAAKR,KAAL,CAAWU,WAAX,CAAuBG,eAAvB,GAA2C,KAAzD,CAAgE,CAC9D,KAAKb,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACD,CACD,GAAIN,MAAM,CAAG,CAAb,CAAgB,CACd,KAAKT,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EACD,CACF,C,2CAEU,CACT,KAAKf,KAAL,CAAWgB,QAAX,CAAoBnB,MAAM,EAA1B,EACA,KAAKG,KAAL,CAAWc,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,EACD,C,uCAEQ,IACCE,CAAAA,OADD,CACa,KAAKjB,KADlB,CACCiB,OADD,CAEP,GAAIA,OAAO,GAAK,GAAhB,CAAqB,CACnB,MACE,4BAAK,KAAK,CAAC,oBAAX,CAAgC,IAAI,CAAC,OAArC,EACE,2BAAK,SAAS,CAAC,uBAAf,EACE,0BAAI,KAAK,CAAC,eAAV,iBADF,CAEE,mFAFF,CAGE,yBAAG,KAAK,CAAC,iBAAT,EACE,oBAAC,IAAD,EAAM,SAAS,CAAC,UAAhB,CAA2B,EAAE,CAAC,QAA9B,EACE,qDADF,CADF,CAHF,CADF,CADF,CAaD,CACD,MACE,4BAAK,SAAS,KAAd,EACE,oBAAC,MAAD,EACE,OAAO,CAAE,KAAKC,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CADX,CAEE,OAAO,CAAE,KAAKlB,KAAL,CAAWK,OAFtB,CAGE,IAAI,CAAE,KAAKL,KAAL,CAAWM,IAHnB,EADF,CAME,oBAAC,KAAD,MANF,CAOE,oBAAC,UAAD,EACE,QAAQ,CAAE,KAAKN,KAAL,CAAWI,QADvB,CAEE,OAAO,CAAE,KAAKJ,KAAL,CAAWK,OAFtB,CAGE,IAAI,CAAE,KAAKL,KAAL,CAAWM,IAHnB,EAPF,CADF,CAeD,C,kBA7DgBf,S,EA+DnB,GAAM4B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACnB,KAAD,CAAW,CACjCoB,OAAO,CAACC,GAAR,CAAY,cAAZ,CAA4BrB,KAAK,CAACC,QAAN,CAAee,OAA3C,EACA,MAAO,CACLP,WAAW,CAAET,KAAK,CAACS,WADd,CAELF,KAAK,CAAEP,KAAK,CAACS,WAAN,CAAkBC,YAAlB,CAA+BH,KAFjC,CAGLS,OAAO,CAAEhB,KAAK,CAACC,QAAN,CAAee,OAHnB,CAAP,CAKD,CAPD,CASA,cAAenB,CAAAA,OAAO,CAACsB,eAAD,CAAP,CAAyBrB,IAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Books from './product';\nimport Navbar from '../layout/Navbar';\nimport Pagination from './Pagination';\nimport { logout } from '../redux/actions/authpersist';\nimport { connect } from 'react-redux';\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      products: [],\n      carts: [],\n      selectProduct: null,\n      category: '',\n      product: '',\n      page: '',\n    };\n  }\n  componentDidMount() {\n    const token = this.props;\n    const access = this.props.authpersist.persistLogin.access_menu;\n    if (!token && this.props.authpersist.isAuthenticated === false) {\n      this.props.history.push('/login');\n    }\n    if (access > 2) {\n      this.props.history.push('/cashier');\n    }\n  }\n\n  onLogout() {\n    this.props.dispatch(logout());\n    this.props.history.push('/login');\n  }\n\n  render() {\n    const { message } = this.props;\n    if (message === 404) {\n      return (\n        <div class='alert alert-danger' role='alert'>\n          <div className='container text-center'>\n            <h4 class='alert-heading'>Token error!</h4>\n            <p>Aww, you token is expired, you can login to fix it.</p>\n            <p class='btn btn-primary'>\n              <Link className='nav-link' to='/login'>\n                <strong>Go to login page</strong>\n              </Link>\n            </p>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className>\n        <Navbar\n          onClick={this.onLogout.bind(this)}\n          product={this.state.product}\n          page={this.state.page}\n        />\n        <Books />\n        <Pagination\n          category={this.state.category}\n          product={this.state.product}\n          page={this.state.page}\n        />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  console.log('homedddstate', state.products.message);\n  return {\n    authpersist: state.authpersist,\n    token: state.authpersist.persistLogin.token,\n    message: state.products.message,\n  };\n};\n\nexport default connect(mapStateToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}