{"ast":null,"code":"var _jsxFileName = \"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/src/components/home/product.js\";\nimport React, { Component } from 'react';\nimport CardProduct from './CardProduct';\nimport { connect } from 'react-redux';\nimport { getProducts, detailProducts } from '../redux/actions/product';\nimport { addQty, reduceQty, deleteCart, postOrder } from '../redux/actions/cart';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport logo from '../upload/viewcart.png';\n\nclass Books extends Component {\n  constructor(props) {\n    super(props);\n\n    this.actSelectProduct = products => {\n      this.setState({\n        selectProduct: products\n      });\n    };\n\n    this.state = {\n      show: false\n    };\n\n    this.onShow = event => {\n      this.setState({\n        show: true\n      });\n    };\n\n    this.onHandleClose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.addQuantity = id => {\n      this.props.dispatch(addQty(id));\n    };\n\n    this.reduceQuantity = id => {\n      this.props.dispatch(reduceQty(id));\n    };\n\n    this.onDeleteCart = id => {\n      this.props.dispatch(deleteCart(id));\n    };\n\n    this.paginateProducts = event => {\n      this.setState({\n        page: event.target.id\n      });\n      this.props.dispatch(detailProducts(this.state.category, this.state.product, event.target.id));\n    };\n\n    this.onSubmit = async e => {\n      e.preventDefault();\n      let product = [];\n      this.props.carts.map(cart => {\n        product.push({\n          id_product: cart.id,\n          quantity: cart.quantity\n        });\n      });\n      const data = {\n        id_user: this.props.authpersist.persistLogin.name,\n        total: this.props.total,\n        product: product\n      };\n      await this.props.dispatch(postOrder(data));\n      alert('success');\n    };\n\n    this.state = {\n      products: [],\n      carts: [],\n      selectProduct: null,\n      category: '',\n      product: '',\n      page: ''\n    };\n  }\n\n  getProducts() {\n    const authorization = this.props.authpersist.persistLogin.id;\n    const userId = this.props.authpersist.persistLogin.token;\n    this.props.dispatch(getProducts(userId, authorization));\n  }\n\n  async componentDidMount() {\n    await this.getProducts();\n    const status = this.props.message;\n    console.log('ini status', status);\n  }\n\n  render() {\n    const {\n      products,\n      carts,\n      total\n    } = this.props;\n    const dataProduct = products.map((item, index) => {\n      return React.createElement(CardProduct, {\n        product: item,\n        key: index,\n        selectProductItem: this.actSelectProduct,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      });\n    });\n\n    if (this.props.carts < 1) {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, dataProduct)), React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cardCart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \".\"), React.createElement(\"img\", {\n        style: {\n          width: 330,\n          height: 400,\n          borderRadius: 50,\n          marginLeft: -40\n        },\n        src: logo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      })))));\n    } else {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, dataProduct)), React.createElement(\"div\", {\n        className: \"col-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cardCart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \".\"), carts.map(cart => React.createElement(Row, {\n        style: {\n          marginBottom: '10px',\n          border: '1px solid rgba(0,0,0,.1)',\n          paddingTop: '20px',\n          marginLeft: '0px',\n          marginRight: '0px',\n          paddingBottom: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 6,\n        md: 4,\n        border: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: cart.image,\n        alt: \"\",\n        width: 80,\n        height: 80,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      })), React.createElement(Col, {\n        xs: 6,\n        md: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, cart.name), React.createElement(Row, {\n        style: {\n          marginTop: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"sm\",\n        variant: \"outline-info\",\n        onClick: () => this.reduceQuantity(cart.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"-\")), React.createElement(Col, {\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, cart.quantity), React.createElement(Col, {\n        sm: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"sm\",\n        variant: \"outline-info\",\n        onClick: () => this.addQuantity(cart.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"+\")))), React.createElement(Row, {\n        xs: 6,\n        md: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \" Rp. \", cart.price)), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"btnCart\",\n        size: \"sm\",\n        onClick: () => this.onDeleteCart(cart.id),\n        variant: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Remove\"))))), React.createElement(Row, {\n        style: {\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: 6,\n        style: {\n          fontSize: '25px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Total:\", ' '), React.createElement(Col, {\n        sm: 6,\n        style: {\n          fontSize: '25px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Rp. \", total)), React.createElement(Row, {\n        className: \"justify-content-center\",\n        style: {\n          marginBottom: '10px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.onSubmit,\n        style: {\n          marginLeft: '100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"ORDER\"), ' '))))));\n    }\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log('ini message', state.products);\n  return {\n    user: state.user,\n    products: state.products.products,\n    carts: state.carts.carts,\n    total: state.carts.total,\n    deleteCart: state.carts.deleteCart,\n    pagination: state.products.paginate,\n    authpersist: state.authpersist,\n    message: state.products\n  };\n};\n\nexport default connect(mapStateToProps)(Books);","map":{"version":3,"sources":["/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/src/components/home/product.js"],"names":["React","Component","CardProduct","connect","getProducts","detailProducts","addQty","reduceQty","deleteCart","postOrder","Row","Col","Button","logo","Books","constructor","props","actSelectProduct","products","setState","selectProduct","state","show","onShow","event","onHandleClose","addQuantity","id","dispatch","reduceQuantity","onDeleteCart","paginateProducts","page","target","category","product","onSubmit","e","preventDefault","carts","map","cart","push","id_product","quantity","data","id_user","authpersist","persistLogin","name","total","alert","authorization","userId","token","componentDidMount","status","message","console","log","render","dataProduct","item","index","width","height","borderRadius","marginLeft","marginBottom","border","paddingTop","marginRight","paddingBottom","image","marginTop","price","fontWeight","fontSize","mapStateToProps","user","pagination","paginate"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport CardProduct from './CardProduct';\nimport { connect } from 'react-redux';\nimport { getProducts, detailProducts } from '../redux/actions/product';\nimport {\n  addQty,\n  reduceQty,\n  deleteCart,\n  postOrder,\n} from '../redux/actions/cart';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport logo from '../upload/viewcart.png';\n\nclass Books extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      products: [],\n      carts: [],\n      selectProduct: null,\n      category: '',\n      product: '',\n      page: '',\n    };\n  }\n  actSelectProduct = (products) => {\n    this.setState({\n      selectProduct: products,\n    });\n  };\n\n  state = {\n    show: false,\n  };\n  onShow = (event) => {\n    this.setState({\n      show: true,\n    });\n  };\n  onHandleClose = () => {\n    this.setState({\n      show: false,\n    });\n  };\n  getProducts() {\n    const authorization = this.props.authpersist.persistLogin.id;\n    const userId = this.props.authpersist.persistLogin.token;\n    this.props.dispatch(getProducts(userId, authorization));\n  }\n\n  async componentDidMount() {\n    await this.getProducts();\n    const status = this.props.message;\n    console.log('ini status', status);\n  }\n  addQuantity = (id) => {\n    this.props.dispatch(addQty(id));\n  };\n\n  reduceQuantity = (id) => {\n    this.props.dispatch(reduceQty(id));\n  };\n  onDeleteCart = (id) => {\n    this.props.dispatch(deleteCart(id));\n  };\n  paginateProducts = (event) => {\n    this.setState({\n      page: event.target.id,\n    });\n    this.props.dispatch(\n      detailProducts(this.state.category, this.state.product, event.target.id)\n    );\n  };\n  onSubmit = async (e) => {\n    e.preventDefault();\n    let product = [];\n    this.props.carts.map((cart) => {\n      product.push({\n        id_product: cart.id,\n        quantity: cart.quantity,\n      });\n    });\n    const data = {\n      id_user: this.props.authpersist.persistLogin.name,\n      total: this.props.total,\n      product: product,\n    };\n    await this.props.dispatch(postOrder(data));\n    alert('success');\n  };\n\n  render() {\n    const { products, carts, total } = this.props;\n\n    const dataProduct = products.map((item, index) => {\n      return (\n        <CardProduct\n          product={item}\n          key={index}\n          selectProductItem={this.actSelectProduct}\n        />\n      );\n    });\n    if (this.props.carts < 1) {\n      return (\n        <React.Fragment>\n          <div className='row'>\n            <div className='col-md-8'>\n              <div className='row'>{dataProduct}</div>\n            </div>\n            <div className='col-4'>\n              <div className='cardCart'>\n                <p>.</p>\n                <img\n                  style={{\n                    width: 330,\n                    height: 400,\n                    borderRadius: 50,\n                    marginLeft: -40,\n                  }}\n                  src={logo}\n                />\n              </div>\n            </div>\n          </div>\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <div className='row'>\n            <div className='col-md-8'>\n              <div className='row'>{dataProduct}</div>\n            </div>\n            <div className='col-4'>\n              <div className='cardCart'>\n                <p>.</p>\n                {carts.map((cart) => (\n                  <Row\n                    style={{\n                      marginBottom: '10px',\n                      border: '1px solid rgba(0,0,0,.1)',\n                      paddingTop: '20px',\n                      marginLeft: '0px',\n                      marginRight: '0px',\n                      paddingBottom: '10px',\n                    }}\n                  >\n                    <Col xs={6} md={4} border='info'>\n                      <img src={cart.image} alt='' width={80} height={80} />\n                    </Col>\n                    <Col xs={6} md={6}>\n                      <p>{cart.name}</p>\n                      <Row style={{ marginTop: '10px' }}>\n                        <Col sm={2}>\n                          <Button\n                            size='sm'\n                            variant='outline-info'\n                            onClick={() => this.reduceQuantity(cart.id)}\n                          >\n                            -\n                          </Button>\n                        </Col>\n                        <Col sm={2}>{cart.quantity}</Col>\n                        <Col sm={2}>\n                          <Button\n                            size='sm'\n                            variant='outline-info'\n                            onClick={() => this.addQuantity(cart.id)}\n                          >\n                            +\n                          </Button>\n                        </Col>\n                      </Row>\n                    </Col>\n                    <Row xs={6} md={2}>\n                      <Col>\n                        <p> Rp. {cart.price}</p>\n                      </Col>\n                      <Col>\n                        <Button\n                          className='btnCart'\n                          size='sm'\n                          onClick={() => this.onDeleteCart(cart.id)}\n                          variant='danger'\n                        >\n                          Remove\n                        </Button>\n                      </Col>\n                    </Row>\n                  </Row>\n                ))}\n                <Row style={{ fontWeight: 'bold' }}>\n                  <Col sm={6} style={{ fontSize: '25px' }}>\n                    Total:{' '}\n                  </Col>\n                  <Col sm={6} style={{ fontSize: '25px' }}>\n                    Rp. {total}\n                  </Col>\n                </Row>\n                <Row\n                  className='justify-content-center'\n                  style={{ marginBottom: '10px' }}\n                >\n                  <Col sm={12}>\n                    <Button\n                      variant='primary'\n                      onClick={this.onSubmit}\n                      style={{ marginLeft: '100px' }}\n                    >\n                      ORDER\n                    </Button>{' '}\n                  </Col>\n                </Row>\n              </div>\n            </div>\n          </div>\n        </React.Fragment>\n      );\n    }\n  }\n}\nconst mapStateToProps = (state) => {\n  console.log('ini message', state.products);\n  return {\n    user: state.user,\n    products: state.products.products,\n    carts: state.carts.carts,\n    total: state.carts.total,\n    deleteCart: state.carts.deleteCart,\n    pagination: state.products.paginate,\n    authpersist: state.authpersist,\n    message: state.products,\n  };\n};\nexport default connect(mapStateToProps)(Books);\n"]},"metadata":{},"sourceType":"module"}