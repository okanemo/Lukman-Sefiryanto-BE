{"ast":null,"code":"import _regeneratorRuntime from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Modal,Form,Button}from'react-bootstrap';import{connect}from'react-redux';import{updateProduct}from'../redux/actions/product';var ProductEdit=/*#__PURE__*/function(_Component){_inherits(ProductEdit,_Component);function ProductEdit(){var _getPrototypeOf2;var _this;_classCallCheck(this,ProductEdit);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ProductEdit)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={name:\"\",description:\"\",image:\"\",category_id:\"\",price:\"\",stock:\"\"};_this.onSetValue=function(product){_this.setState({name:product.name,description:product.description,category_id:product.category_id,price:product.price,stock:product.stock});};_this.onChangeImage=function(event){// console.log(event.target.files[0])\n_this.setState({image:event.target.files[0]});};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var id,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();id=_this.props.product.id;data=new FormData();data.append(\"name\",_this.state.name);data.append(\"description\",_this.state.description);data.append(\"image\",_this.state.image);data.append(\"category_id\",_this.state.category_id);data.append(\"price\",_this.state.price);data.append(\"stock\",_this.state.stock);if(!(_this.state.image===\"\")){_context.next=17;break;}data.delete(\"image\");_context.next=13;return _this.props.dispatch(updateProduct(id,data));case 13:_context.next=15;return _this.props.onHide();case 15:_context.next=21;break;case 17:_context.next=19;return _this.props.dispatch(updateProduct(id,data));case 19:_context.next=21;return _this.props.onHide();case 21:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(ProductEdit,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(_ref2){var product=_ref2.product;this.onSetValue(product);}},{key:\"render\",value:function render(){var _this$props=this.props,show=_this$props.show,onHide=_this$props.onHide;return React.createElement(Modal,{show:show,onHide:onHide,variant:\"lg\"},React.createElement(Modal.Header,null,React.createElement(\"p\",null,\"Edit Book\")),React.createElement(Modal.Body,null,React.createElement(Form,{onSubmit:this.onSubmit},React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Name\"),React.createElement(Form.Control,{type:\"text\",name:\"name\",onChange:this.onChange,value:this.state.name})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Description\"),React.createElement(Form.Control,{type:\"text\",name:\"description\",onChange:this.onChange,value:this.state.description})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Image\"),React.createElement(Form.Control,{type:\"file\",name:\"image\",onChange:this.onChangeImage})),React.createElement(Form.Group,{controlId:\"exampleForm.ControlSelect1\"},React.createElement(Form.Label,null,\"Category\"),React.createElement(Form.Control,{as:\"select\",name:\"category_id\",onChange:this.onChange},React.createElement(\"option\",{value:1},\"Smartphone\"),React.createElement(\"option\",{value:2},\"Pc\"),React.createElement(\"option\",{value:3},\"Smartwatch\"),React.createElement(\"option\",{value:4},\"Camera\"))),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Price\"),React.createElement(Form.Control,{type:\"text\",name:\"price\",onChange:this.onChange,value:this.state.price})),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Stock\"),React.createElement(Form.Control,{type:\"text\",name:\"stock\",onChange:this.onChange,value:this.state.stock})),React.createElement(Button,{variant:\"primary\",size:\"sm\",type:\"submit\"},\"Save\"))));}}]);return ProductEdit;}(Component);export default connect()(ProductEdit);","map":{"version":3,"sources":["/home/raka/Desktop/reactku/FrontendWeb_react_redux_Mygadget/src/components/product/ProductEdit.js"],"names":["React","Component","Modal","Form","Button","connect","updateProduct","ProductEdit","state","name","description","image","category_id","price","stock","onSetValue","product","setState","onChangeImage","event","target","files","onChange","e","value","onSubmit","preventDefault","id","props","data","FormData","append","delete","dispatch","onHide","show"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Modal, Form, Button } from 'react-bootstrap';\n\nimport { connect } from 'react-redux';\nimport { updateProduct } from '../redux/actions/product';\n\nclass ProductEdit extends Component {\n    state = {\n        name: \"\",\n        description: \"\",\n        image: \"\",\n        category_id: \"\",\n        price: \"\",\n        stock: \"\"\n    }\n\n    componentWillReceiveProps({ product }) {\n        this.onSetValue(product);\n    }\n\n    onSetValue = (product) => {\n        this.setState({\n            name: product.name,\n            description: product.description,\n            category_id: product.category_id,\n            price: product.price,\n            stock: product.stock\n        })\n    }\n    onChangeImage = event => {\n        // console.log(event.target.files[0])\n        this.setState({\n            image: event.target.files[0]\n        })\n\n    }\n\n    onChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    onSubmit = async (e) => {\n        e.preventDefault();\n        const id = this.props.product.id;\n        const data = new FormData();\n        data.append(\"name\", this.state.name);\n        data.append(\"description\", this.state.description);\n        data.append(\"image\", this.state.image);\n        data.append(\"category_id\", this.state.category_id);\n        data.append(\"price\", this.state.price);\n        data.append(\"stock\", this.state.stock);\n        if (this.state.image === \"\") {\n            data.delete(\"image\")\n            await this.props.dispatch(updateProduct(id, data));\n            await this.props.onHide();\n        }\n        else {\n            await this.props.dispatch(updateProduct(id, data));\n            await this.props.onHide();\n        }\n    }\n\n    render() {\n        const { show, onHide } = this.props;\n        return (\n            <Modal show={show} onHide={onHide} variant=\"lg\">\n                <Modal.Header>\n                    <p>Edit Book</p>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form onSubmit={this.onSubmit}>\n                        <Form.Group>\n                            <Form.Label>Name</Form.Label>\n                            <Form.Control type=\"text\" name=\"name\" onChange={this.onChange} value={this.state.name} />\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Description</Form.Label>\n                            <Form.Control type=\"text\" name=\"description\" onChange={this.onChange} value={this.state.description} />\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Image</Form.Label>\n                            <Form.Control type=\"file\" name=\"image\" onChange={this.onChangeImage} />\n                        </Form.Group>\n                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\n                            <Form.Label>Category</Form.Label>\n                            <Form.Control as=\"select\" name=\"category_id\" onChange={this.onChange}>\n                                <option value={1}>Smartphone</option>\n                                <option value={2}>Pc</option>\n                                <option value={3}>Smartwatch</option>\n                                <option value={4}>Camera</option>\n                            </Form.Control>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Price</Form.Label>\n                            <Form.Control type=\"text\" name=\"price\" onChange={this.onChange} value={this.state.price} />\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Stock</Form.Label>\n                            <Form.Control type=\"text\" name=\"stock\" onChange={this.onChange} value={this.state.stock} />\n                        </Form.Group>\n                        <Button variant=\"primary\" size=\"sm\" type=\"submit\">Save</Button>\n                    </Form>\n                </Modal.Body>\n            </Modal>\n        )\n    }\n}\n\nexport default connect()(ProductEdit);"]},"metadata":{},"sourceType":"module"}